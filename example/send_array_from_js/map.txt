{"name":"KS_JS_API_TEST","ambient":"#97a0a8","light":"#f2f8fc","sky":"#dce8ed","fog":"#8d9aa0","fogD":2000,"xyz":[100,10,100],"objects":[{"p":[0,-10,0],"si":0}],"scripts":{"client":"IyBDbGllbnQgU2NyaXB0IHJ1bnMgb25seSBvbiB0aGUgY2xpZW50CiMgS3J1bmtTY3JpcHQgQ29weXJpZ2h0IChDKSBZZW5kaXMgRW50ZXJ0YWlubWVudCBQdHkgTHRkCiMgCiMgQWRkIGN1c3RvbSBhY3Rpb25zIGhlcmUKc3RyIFRYX0lEID0gIktTX1RYIjsKc3RyIFJYX0lEID0gIktTX1JYIjsKYWN0aW9uIHNlbmRfanNfbWVzc2FnZShzdHIgbXNnKSB7CiAgICBHQU1FLlVJLnVwZGF0ZURJVlRleHQoVFhfSUQsICJLU19mbHVzaCIpOwogICAgR0FNRS5VSS51cGRhdGVESVZUZXh0KFRYX0lELCBtc2cpOwp9CgpzdHJbXSBhY3Rpb24gQ29tbWFTZXBTdHJUb0FycmF5KHN0ciBkYXRhc3RyKXsKCWlmKGxlbmd0aE9mIChVVElMUy5yZXBsYWNlVGV4dChkYXRhc3RyLCAiLCIpKSA9PSAwKXsKCQlyZXR1cm4gc3RyW107CiAgICB9CgkKCXN0cltdIGRhdGEgPSBzdHJbIiJdOwoJZm9yKG51bSBpID0gMDsgaSA8IGxlbmd0aE9mIGRhdGFzdHI7IGkrKyl7CgkJaWYoZGF0YXN0cltpXSA9PSAiLCIpewoJCQlhZGRUbyBkYXRhICIiOwoJCX0gZWxzZSB7CgkJCWRhdGFbKGxlbmd0aE9mIGRhdGEpLTFdICs9ICBkYXRhc3RyW2ldOwoJCX0KCX0KCiAgICByZXR1cm4gZGF0YTsKfQoKYWN0aW9uIG9uX2pzX21lc3NhZ2Uoc3RyIG1zZykgewogICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgICMgZG8gd2hhdGV2ZXIgdSB3YW50IHdpdGggbXNnIHN0cmluZyAjCiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJCXN0cltdIGRhdGEgPSBDb21tYVNlcFN0clRvQXJyYXkobXNnKTsKICAgICAgICAKCiAgICAgICAgaWYoZGF0YVswXSA9PSAiYWRkU2lnbiIpewoJCQlvYmogc2lnbiA9IEdBTUUuU0NFTkUuYWRkU2lnbigyNiwgNiwgMCwgNDAsIDEwLCBkYXRhWzFdLCB7fSk7CiAgICAgICAgfSBlbHNlIGlmKGRhdGFbMF0gPT0gInNreUNvbCIpewoJCQlHQU1FLlNDRU5FLnNldFNreUNvbG9yKGRhdGFbMV0pOwogICAgICAgIH0KfQoKcHVibGljIGFjdGlvbiBzdGFydCgpIHsKICAgIEdBTUUuVUkuYWRkRElWKFRYX0lELCBmYWxzZSk7CiAgICBHQU1FLlVJLmFkZERJVihSWF9JRCwgZmFsc2UpOwp9CgpwdWJsaWMgYWN0aW9uIG9uRElWQ2xpY2tlZChzdHIgaWQpIHsKICAgIGlmIChpZCA9PSBSWF9JRCkge29uX2pzX21lc3NhZ2UoR0FNRS5VSS5nZXRESVZUZXh0KFJYX0lEKSk7fQp9CgojIFJ1bnMgZXZlcnkgZ2FtZSB0aWNrCnB1YmxpYyBhY3Rpb24gdXBkYXRlKG51bSBkZWx0YSkgewoKfQoKIyBBZGQgcmVuZGVyaW5nIGxvZ2ljIGluIGhlcmUKcHVibGljIGFjdGlvbiByZW5kZXIobnVtIGRlbHRhKSB7Cgp9CgojIFBsYXllciBzcGF3bnMgaW4KcHVibGljIGFjdGlvbiBvblBsYXllclNwYXduKHN0ciBpZCkgewoKfQoKIyBQbGF5ZXIgZGllZApwdWJsaWMgYWN0aW9uIG9uUGxheWVyRGVhdGgoc3RyIGlkLCBzdHIga2lsbGVySUQpIHsKCn0KCiMgUGxheWVyIHVwZGF0ZQpwdWJsaWMgYWN0aW9uIG9uUGxheWVyVXBkYXRlKHN0ciBpZCwgbnVtIGRlbHRhLCBvYmogaW5wdXRzKSB7Cgp9CgojIFVzZXIgcHJlc3NlZCBhIGtleQpwdWJsaWMgYWN0aW9uIG9uS2V5UHJlc3Moc3RyIGtleSwgbnVtIGNvZGUpIHsKCn0KCiMgVXNlciByZWxlYXNlZCBhIGtleQpwdWJsaWMgYWN0aW9uIG9uS2V5VXAoc3RyIGtleSwgbnVtIGNvZGUpIHsKCn0KCiMgVXNlciBoZWxkIGEga2V5CnB1YmxpYyBhY3Rpb24gb25LZXlIZWxkKHN0ciBrZXksIG51bSBjb2RlKSB7Cgp9CgojIFVzZXIgcHJlc3NlZCBhIGJ1dHRvbiBvbiBhIGNvbnRyb2xsZXIKcHVibGljIGFjdGlvbiBvbkNvbnRyb2xsZXJQcmVzcyhzdHIga2V5LCBudW0gY29kZSkgewoKfQoKIyBVc2VyIHJlbGVhc2VkIGEgYnV0dG9uIG9uIGEgY29udHJvbGxlcgpwdWJsaWMgYWN0aW9uIG9uQ29udHJvbGxlclVwKHN0ciBrZXksIG51bSBjb2RlKSB7Cgp9CgojIFVzZXIgaGVsZCBhIGJ1dHRvbiBvbiBhIGNvbnRyb2xsZXIKcHVibGljIGFjdGlvbiBvbkNvbnRyb2xsZXJIZWxkKHN0ciBrZXksIG51bSBjb2RlKSB7Cgp9CgojIFVzZXIgY2xpY2tlZCBvbiBzY3JlZW4KcHVibGljIGFjdGlvbiBvbk1vdXNlQ2xpY2sobnVtIGJ1dHRvbiwgbnVtIHgsIG51bSB5KSB7Cgp9CgojIFVzZXIgcmVsZWFzZWQgY2xpY2tlZCBvbiBzY3JlZW4KcHVibGljIGFjdGlvbiBvbk1vdXNlVXAobnVtIGJ1dHRvbiwgbnVtIHgsIG51bSB5KSB7Cgp9CgojIFVzZXIgc2Nyb2xsZWQgb24gc2NyZWVuCnB1YmxpYyBhY3Rpb24gb25Nb3VzZVNjcm9sbChudW0gZGlyKSB7Cgp9CgojIENsaWVudCByZWNlaXZlcyBuZXR3b3JrIG1lc3NhZ2UKcHVibGljIGFjdGlvbiBvbk5ldHdvcmtNZXNzYWdlKHN0ciBpZCwgb2JqIGRhdGEpIHsKCn0="},"spawns":[[0,0,0,0,0,0]]}