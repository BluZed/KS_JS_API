{"name":"KS_JS_API_TEST","ambient":"#97a0a8","light":"#f2f8fc","sky":"#dce8ed","fog":"#8d9aa0","fogD":2000,"xyz":[100,10,100],"objects":[{"p":[0,-10,0],"si":0}],"scripts":{"client":"IyBDbGllbnQgU2NyaXB0IHJ1bnMgb25seSBvbiB0aGUgY2xpZW50CiMgS3J1bmtTY3JpcHQgQ29weXJpZ2h0IChDKSBZZW5kaXMgRW50ZXJ0YWlubWVudCBQdHkgTHRkCiMgCiMgQWRkIGN1c3RvbSBhY3Rpb25zIGhlcmUKc3RyIFRYX0lEID0gIktTX1RYIjsKc3RyIFJYX0lEID0gIktTX1JYIjsKCm9iaiBibG9ja3MgPSB7fTsKCmFjdGlvbiBzZW5kX2pzX21lc3NhZ2Uoc3RyW10gbXNnKSB7CiAgICBHQU1FLlVJLnVwZGF0ZURJVlRleHQoVFhfSUQsICJLU19mbHVzaCIpOwogICAgR0FNRS5VSS51cGRhdGVESVZUZXh0KFRYX0lELCAoKChzdHIpbXNnKSsiIikpOwp9CgpzdHJbXSBhY3Rpb24gQ29tbWFTZXBTdHJUb0FycmF5KHN0ciBkYXRhc3RyKXsKCWlmKGxlbmd0aE9mIChVVElMUy5yZXBsYWNlVGV4dChkYXRhc3RyLCAiLCIpKSA9PSAwKXsKCQlyZXR1cm4gc3RyW107CiAgICB9CgkKCXN0cltdIGRhdGEgPSBzdHJbIiJdOwoJZm9yKG51bSBpID0gMDsgaSA8IGxlbmd0aE9mIGRhdGFzdHI7IGkrKyl7CgkJaWYoZGF0YXN0cltpXSA9PSAiLCIpewoJCQlhZGRUbyBkYXRhICIiOwoJCX0gZWxzZSB7CgkJCWRhdGFbKGxlbmd0aE9mIGRhdGEpLTFdICs9ICBkYXRhc3RyW2ldOwoJCX0KCX0KCiAgICByZXR1cm4gZGF0YTsKfQoKYWN0aW9uIG9uX2pzX21lc3NhZ2Uoc3RyIG1zZykgewogICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgICMgZG8gd2hhdGV2ZXIgdSB3YW50IHdpdGggbXNnIHN0cmluZyAjCiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJCXN0cltdIGRhdGEgPSBDb21tYVNlcFN0clRvQXJyYXkobXNnKTsKICAgICAgICAKICAgICAgICBpZihkYXRhWzBdID09ICJyZW1vdmVfYmxvY2siKXsKCQkJaWYoZGF0YVsxXSA9PSAiYSIpewoJCQkJYmxvY2tzLmEuZGVsZXRlKCk7CgkJCX0gZWxzZSBpZihkYXRhWzFdID09ICJiIil7CgkJCQlibG9ja3MuYi5kZWxldGUoKTsKCQkJfSBlbHNlIGlmKGRhdGFbMV0gPT0gImMiKXsKCQkJCWJsb2Nrcy5jLmRlbGV0ZSgpOwoJCQl9CiAgICAgICAgfSBlbHNlIGlmKGRhdGFbMF0gPT0gImdldFBsYXllclBvc2l0aW9uIil7CgkJCW9iaiBtZSA9IEdBTUUuUExBWUVSUy5nZXRTZWxmKCk7CiAgICAgICAgICAgIHNlbmRfanNfbWVzc2FnZShzdHJbInBsYXllclBvc2l0aW9uIiwgKHN0ciltZS5wb3NpdGlvbi54LCAoc3RyKW1lLnBvc2l0aW9uLnksIChzdHIpbWUucG9zaXRpb24uel0pOwogICAgICAgIH0KfQoKcHVibGljIGFjdGlvbiBzdGFydCgpIHsKICAgIEdBTUUuVUkuYWRkRElWKFRYX0lELCBmYWxzZSk7CiAgICBHQU1FLlVJLmFkZERJVihSWF9JRCwgZmFsc2UpOwoKICAgIGJsb2Nrcy5jID0gR0FNRS5TQ0VORS5hZGRDdWJlKCIiLCAiIzAwMDAwMCIsIDI0LCAwLCAzMSwgMTAsIDEwLCAxMCwge30pOwogICAgYmxvY2tzLmIgPSBHQU1FLlNDRU5FLmFkZEN1YmUoIiIsICIjMDAwMDAwIiwgMjQsIDAsIDAsIDEwLCAxMCwgMTAsIHt9KTsKICAgIGJsb2Nrcy5hID0gR0FNRS5TQ0VORS5hZGRDdWJlKCIiLCAiIzAwMDAwMCIsIDI0LCAwLCAtMzEsIDEwLCAxMCwgMTAsIHt9KTsKfQoKcHVibGljIGFjdGlvbiBvbkRJVkNsaWNrZWQoc3RyIGlkKSB7CiAgICBpZiAoaWQgPT0gUlhfSUQpIHtvbl9qc19tZXNzYWdlKEdBTUUuVUkuZ2V0RElWVGV4dChSWF9JRCkpO30KfQoKIyBSdW5zIGV2ZXJ5IGdhbWUgdGljawpwdWJsaWMgYWN0aW9uIHVwZGF0ZShudW0gZGVsdGEpIHsKCn0KCiMgQWRkIHJlbmRlcmluZyBsb2dpYyBpbiBoZXJlCnB1YmxpYyBhY3Rpb24gcmVuZGVyKG51bSBkZWx0YSkgewoKfQoKIyBQbGF5ZXIgc3Bhd25zIGluCnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJTcGF3bihzdHIgaWQpIHsKCn0KCiMgUGxheWVyIGRpZWQKcHVibGljIGFjdGlvbiBvblBsYXllckRlYXRoKHN0ciBpZCwgc3RyIGtpbGxlcklEKSB7Cgp9CgojIFBsYXllciB1cGRhdGUKcHVibGljIGFjdGlvbiBvblBsYXllclVwZGF0ZShzdHIgaWQsIG51bSBkZWx0YSwgb2JqIGlucHV0cykgewoKfQoKIyBVc2VyIHByZXNzZWQgYSBrZXkKcHVibGljIGFjdGlvbiBvbktleVByZXNzKHN0ciBrZXksIG51bSBjb2RlKSB7Cgp9CgojIFVzZXIgcmVsZWFzZWQgYSBrZXkKcHVibGljIGFjdGlvbiBvbktleVVwKHN0ciBrZXksIG51bSBjb2RlKSB7Cgp9CgojIFVzZXIgaGVsZCBhIGtleQpwdWJsaWMgYWN0aW9uIG9uS2V5SGVsZChzdHIga2V5LCBudW0gY29kZSkgewoKfQoKIyBVc2VyIHByZXNzZWQgYSBidXR0b24gb24gYSBjb250cm9sbGVyCnB1YmxpYyBhY3Rpb24gb25Db250cm9sbGVyUHJlc3Moc3RyIGtleSwgbnVtIGNvZGUpIHsKCn0KCiMgVXNlciByZWxlYXNlZCBhIGJ1dHRvbiBvbiBhIGNvbnRyb2xsZXIKcHVibGljIGFjdGlvbiBvbkNvbnRyb2xsZXJVcChzdHIga2V5LCBudW0gY29kZSkgewoKfQoKIyBVc2VyIGhlbGQgYSBidXR0b24gb24gYSBjb250cm9sbGVyCnB1YmxpYyBhY3Rpb24gb25Db250cm9sbGVySGVsZChzdHIga2V5LCBudW0gY29kZSkgewoKfQoKIyBVc2VyIGNsaWNrZWQgb24gc2NyZWVuCnB1YmxpYyBhY3Rpb24gb25Nb3VzZUNsaWNrKG51bSBidXR0b24sIG51bSB4LCBudW0geSkgewoKfQoKIyBVc2VyIHJlbGVhc2VkIGNsaWNrZWQgb24gc2NyZWVuCnB1YmxpYyBhY3Rpb24gb25Nb3VzZVVwKG51bSBidXR0b24sIG51bSB4LCBudW0geSkgewoKfQoKIyBVc2VyIHNjcm9sbGVkIG9uIHNjcmVlbgpwdWJsaWMgYWN0aW9uIG9uTW91c2VTY3JvbGwobnVtIGRpcikgewoKfQoKIyBDbGllbnQgcmVjZWl2ZXMgbmV0d29yayBtZXNzYWdlCnB1YmxpYyBhY3Rpb24gb25OZXR3b3JrTWVzc2FnZShzdHIgaWQsIG9iaiBkYXRhKSB7Cgp9"},"spawns":[[0,0,0,0,0,0]]}